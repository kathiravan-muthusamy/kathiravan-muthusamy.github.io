(this.webpackJsonptrade=this.webpackJsonptrade||[]).push([[0],{170:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(35),c=n.n(a),s=(n(170),n(43)),i=n(42),l=n.n(i),u=(n(172),n(146)),j=n.n(u),d=(n(173),n(174),n(94)),f=n(38),b=(n(39),n(120)),h=n(103),O=n(118),p=n(147),g=n(7),x=n(148),v=n(149),m=n(150),C=n(119),S=n(12);function y(e){var t=e.noOfBars,n=e.height,o=e.width,r=e.data,a=e.ratio,c=e.trends,s=x.discontinuousTimeScaleProvider.inputDateAccessor((function(e){return e.date}))(r),i=s.data,l=s.xScale,u=s.xAccessor,j=s.displayXAccessor;u(Object(g.last)(i)),u(i[i.length-t]);return Object(S.jsx)("div",{className:"ChartContent",children:Object(S.jsxs)(b.b,{width:o,height:n,ratio:a,margin:{left:50,right:50,top:10,bottom:30},type:"hybrid",seriesName:"MSFT",data:i,xScale:l,xAccessor:u,displayXAccessor:j,xExtents:[t,0],children:[Object(S.jsxs)(b.a,{id:1,yExtents:function(e){return[e.high,e.low]},children:[Object(S.jsx)(O.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),Object(S.jsx)(O.YAxis,{axisAt:"right",orient:"left",ticks:5}),Object(S.jsx)(h.CandlestickSeries,{}),Object(S.jsx)(C.CrossHairCursor,{}),Object(S.jsx)(v.OHLCTooltip,{origin:[0,0]}),Object(S.jsx)(C.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(f.b)("%Y-%m-%d")}),Object(S.jsx)(C.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(d.b)(".2f")}),Object(S.jsx)(m.TrendLine,{enabled:!1,type:"RAY",snap:!1,snapTo:function(e){return[e.high,e.low]},onStart:function(){return console.log("START")},onComplete:function(){return console.log("COMPLETE")},trends:c})]}),Object(S.jsxs)(b.a,{id:2,origin:function(e,t){return[0,t-150]},height:150,yExtents:function(e){return e.volume},children:[Object(S.jsx)(O.YAxis,{axisAt:"left",orient:"left",ticks:5,tickFormat:Object(d.b)(".0s")}),Object(S.jsx)(h.BarSeries,{yAccessor:function(e){return e.volume},fill:function(e){return e.close>e.open?"#6BA583":"red"}})]})]})})}var w=y=Object(p.fitWidth)(y),A=n(151);function T(e){var t=e.noOfBars,n=e.endDate,r=e.symbol,a=Object(o.useState)([]),c=Object(s.a)(a,2),i=c[0],l=c[1],u=Object(o.useState)([]),d=Object(s.a)(u,2),b=d[0],h=d[1],O=Object(A.a)(),p=Object(s.a)(O,2),g=p[0],x=p[1],v=x.width,m=x.height,C=Object(o.useState)([]),y=Object(s.a)(C,2),T=y[0],k=y[1];function E(e,t,n,o){if(0!==o&&n!==t.length-1){var r=n||0,a=o||t.length-1;if(a-r!==1&&r-a!==1){for(var c=1,s=1,i=r||0,l=0,u=a||t.length-1,j=0,d=0,f=0,b=r;b<=a;b++){var h=t[b].close>t[b].open?t[b].close:t[b].open;h>d&&(d=h,f=b)}var O=0,p=1;for((i=f)===a&&(u=r,p=-1),j=l=d;0===O;j-=.01){s=j-u*(c=(j-l)/(u-i));for(var g=i+p;1===p?g<=a:g>=r;g+=p){if((t[g].close>t[g].open?t[g].close:t[g].open)>c*g+s){O++,j=c*(u=g)+s;break}}}s=j-u*(c=(j-(l=d))/(u-(i=f))),e.push({start:[i,l],end:[u,j],appearance:{stroke:"green"},type:"LINE"}),1===p?E(e,t,u,t.length-1):E(e,t,0,u),n||o||E(e,t,0,i)}}}function N(e,t,n,o){if(console.log(n,o),0!==o&&n!==t.length-1){var r=n||0,a=o||t.length-1;if(a-r!==1&&r-a!==1){for(var c=1,s=1,i=r||0,l=0,u=a||t.length-1,j=0,d=1/0,f=1/0,b=r;b<=a;b++){var h=t[b].close<t[b].open?t[b].close:t[b].open;h<d&&(d=h,f=b)}var O=0,p=1;for((i=f)===a&&(u=r,p=-1),j=l=d;0===O;j+=.01){s=j-u*(c=(j-l)/(u-i));for(var g=i+p;1===p?g<=a:g>=r;g+=p){if((t[g].close<t[g].open?t[g].close:t[g].open)<c*g+s){O++,j=c*(u=g)+s;break}}}s=j-u*(c=(j-(l=d))/(u-(i=f))),e.push({start:[i,l],end:[u,j],appearance:{stroke:"red"},type:"LINE"}),console.log("result"),console.log(i,u),1===p?N(e,t,u,t.length-1):N(e,t,0,u),n||o||N(e,t,0,i)}}}return Object(o.useEffect)((function(){j.a.parse("/assets/"+r,{download:!0,header:!0,dynamicTyping:!0,complete:function(e){var t=e.data.filter((function(e){return e.Date})).map((function(e){return e.date=new Date(Object(f.c)("%Y-%m-%d")(e.Date).getTime()),e}));l(t)}})}),[r]),Object(o.useEffect)((function(){var e=i.filter((function(e){return e.date.getTime()<=n.getTime()})).slice(-1*t);if(e.length>0){var o=[];E(o,e),N(o,e),k(o)}h(e)}),[i,t,n]),Object(S.jsx)("div",{className:"ChartMainContent",ref:g,children:i[0]?Object(S.jsx)(w,{noOfBars:t,width:v,height:m,data:b,trends:T}):""})}var k=n(262),E=n(265),N=n(261),B=n(263),D=k.a.Option;function F(){var e=Object(o.useState)(new Date(2019,5,15,23,59,59,0)),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(150),c=Object(s.a)(a,2),i=c[0],u=c[1],j=Object(o.useState)("20MICRONS_data.csv"),d=Object(s.a)(j,2),f=d[0],b=d[1],h=Object(o.useState)([]),O=Object(s.a)(h,2),p=O[0],g=O[1];return Object(o.useEffect)((function(){fetch("/assets/dir.txt").then((function(e){return e.json()})).then((function(e){g(e.map((function(e){return{value:e}})))}),(function(e){}))}),[]),Object(S.jsxs)("div",{className:"HomeContent",children:[Object(S.jsx)("div",{className:"sidePanel",children:Object(S.jsxs)(E.b,{direction:"vertical",children:[Object(S.jsx)(k.a,{showSearch:!0,style:{width:200},placeholder:"Select a person",optionFilterProp:"children",onChange:function(e){return b(e)},defaultValue:f,filterOption:function(e,t){return console.log(t),t.value.toLowerCase().indexOf(e.toLowerCase())>=0},children:p.map((function(e){return Object(S.jsx)(D,{children:e.value},e.value)}))}),Object(S.jsx)(N.a,{defaultValue:l()(n),onChange:function(e,t){r(e.toDate())}}),Object(S.jsx)(B.a,{placeholder:"No of Bars",defaultValue:i,onChange:function(e){return u(parseInt(e.target.value)>10?parseInt(e.target.value):10)}})]})}),Object(S.jsx)("div",{className:"mainPanel",children:Object(S.jsx)(T,{noOfBars:i,endDate:n,symbol:f})})]})}var L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,266)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),o(e),r(e),a(e),c(e)}))};n(254);c.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(F,{})}),document.getElementById("root")),L()}},[[256,1,2]]]);
//# sourceMappingURL=main.dbab1cb5.chunk.js.map